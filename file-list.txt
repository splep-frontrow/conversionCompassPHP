index.php – main embedded app entry; checks install, fetches shop info, renders the view.

install.php – starts the OAuth flow.

auth/callback.php – completes OAuth (state + HMAC validation, token exchange, DB upsert).

config.php / config.local.example.php – config + secrets (API key, secret, scopes, DB).

db.php – PDO helper.

helpers/ShopifyClient.php – REST + access token helper.

helpers/hmac.php – HMAC + shop domain sanitizer.

views/embedded.php – simple embedded UI + App Bridge title bar, shows shop domain and store name.

migrations.sql – SQL for the shops table.

CURSOR_NOTES.md – a detailed document for Cursor that explains what each file does, how the OAuth flow works, and where to extend things.



Database Name: app
Database User Name: appadmin
Database User Password: PPWwN6KoCBWuMjaCX00H


App URL: https://test.shopconversionhistory.com/index.php

https://test.shopconversionhistory.com/install.php?shop=ballprodev.myshopify.com
https://test.shopconversionhistory.com/install.php?shop=golden-openings-store.myshopify.com



to make APP
https://shopify.dev/docs/api/admin-graphql/2025-07
https://shopify.dev/docs/api/shopifyql
I want to use this "skeleton" as the basis for an actual app.The app is a utility that the site admin can use to retrieve statistics regarding order conversion data. The user should be able to select a timeframe from which Shopify orders are queried. The app will then retrieve conversion data from those orders. (This should be the same data that the user can view if they view an order and select "View Conversion details" in the "Conversion summary".) The data includes UTM Parameters - specifically campaign, source, medium, and content. This app should check all the possible sessions and find this data for each order. If the user retrieves data for a timerange of orders, the app will present a table containing the Order # (which is clickable, and will open that order in a new tab), Date, Total, Campaign, Source, Medium, and Referring Site. Additionally, there will be statistics on the page once results have been retrieved - Total Orders, Total Revenue, and then a Summary of types of referrers (Social MEdia, Direct Links, Email, Other). Evaluate this and look at the screenshot and ask me any questions - or make suggestions for things I may have missed.